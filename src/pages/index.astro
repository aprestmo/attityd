---
import Menu from '../molecules/Menu.astro';
import Footer from '../layouts/Footer.astro';
---
<!DOCTYPE html>
<html lang="nb-NO">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Frilans design studio som leverer estetiske og funksjonelle løsninger. Ta kontakt om du har et prosjekt du vil snakke om."
    />
    <meta name="format-detection" content="telephone=no" />
    <meta name="theme-color" content="var(--brand-color)" />
    <title>Attityd</title>
    <link rel="canonical" href="https://attityd.no/" />
    <link
      rel="preload"
      href="fonts/silka-regular-webfont-subset.woff2"
      as="font"
      type="font/woff2"
    />
    <link
      rel="preload"
      href="fonts/silka-semibold-webfont-subset.woff2"
      as="font"
      type="font/woff2"
    />
    <link rel="stylesheet" href="styles.css">
		<link rel="icon" type="image/x-icon" href="/favicon.ico" />
  </head>
  <body>
    <header>
      <h1>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 465 128">
          <title>Attityd</title>
          <path
            d="M.667 98.277h24.96l4.096-13.568h30.464l4.096 13.568h26.24l-29.312-89.6H29.34L.667 98.277zm35.456-35.328l8.192-27.52h1.28l8.192 27.52H36.123zM120.348 48.74h23.424v24.577c0 15.488 9.472 24.96 25.216 24.96h15.232V78.693h-8.448c-4.992 0-7.936-2.688-7.936-6.784V48.74h16.384V30.18h-16.384V12.389h-22.784v10.88c0 4.224-2.304 7.168-6.528 7.168h-18.176V12.389H97.564v10.88c0 4.224-2.304 7.168-6.528 7.168h-4.992V48.74h10.24v24.576c0 15.488 9.472 24.96 25.216 24.96h15.232V78.693h-8.448c-4.992 0-7.936-2.688-7.936-6.784V48.74zM205.723 24.677c7.936 0 13.568-4.48 13.568-12.288 0-7.68-5.632-12.288-13.568-12.288s-13.568 4.608-13.568 12.288c0 7.808 5.632 12.288 13.568 12.288zM193.819 98.277h24.064V30.18h-24.064v68.097zM291.996 127.717h9.728c15.744 0 24.448-8.192 29.568-22.144l27.392-75.392h-25.216L322.332 67.3h-1.152l-12.416-37.12h-24.832l26.624 68.352-.384 1.024c-1.536 4.096-4.352 7.04-9.216 7.04h-8.96v21.121zM262.3 98.277h15.231V78.693h-8.448c-4.992 0-7.936-2.688-7.936-6.784V48.74h16.384V30.18h-16.384V12.389h-22.784v10.88c0 4.224-2.304 7.168-6.528 7.168h-4.992V48.74h10.24v24.576c0 15.488 9.472 24.96 25.216 24.96l.001.001zM389.02 99.94c9.727 0 14.847-4.735 16.895-8.063h1.152v6.4h23.936v-96h-24.064V36.58h-1.152c-2.432-3.584-7.936-8.064-17.152-8.064-17.92 0-29.952 14.592-29.952 36.224 0 21.632 12.288 35.2 30.336 35.2h.001zm6.143-21.76c-7.296 0-12.16-5.631-12.16-13.951s4.864-13.952 12.16-13.952 12.16 5.632 12.16 13.952-4.864 13.952-12.16 13.952v-.001zM453.02 99.94c7.552 0 12.544-4.863 12.544-12.16 0-6.911-4.992-12.16-12.544-12.16-6.912 0-12.416 5.249-12.416 12.16 0 7.297 5.504 12.16 12.416 12.16z"
          />
        </svg>
      </h1>
      <Menu/>
    </header>
    <main>
      <p>
        Frilans design studio som leverer estetiske og funksjonelle løsninger.
        Ta kontakt om du har et prosjekt du vil snakke om.
      </p>

      <a href="mailto:hei@attityd.no">hei@attityd.no</a>
    </main>

    <Footer/>

    <script type="module">
      const offset = 79
      const opacity = 0.33
      const colors = [
        `hsla(${offset * 1}, 92%, 70%, ${opacity})`,
        `hsla(${offset * 2}, 92%, 70%, ${opacity})`,
        `hsla(${offset * 3}, 92%, 70%, ${opacity})`,
        `hsla(${offset * 4}, 92%, 70%, ${opacity})`,
        `hsla(${offset * 5}, 92%, 70%, ${opacity})`,
      ]

      function setBgColor() {
        const mqDark = window.matchMedia('(prefers-color-scheme: dark)')
        const color = colors[Math.floor(Math.random() * colors.length)]

        if (mqDark.matches) {
          document.body.style.backgroundColor = 'hsl(0, 0%, 0%)'
        } else {
          document.body.style.backgroundColor = color
        }
      }

      setBgColor()

      const linkTag = document.querySelector('a')
      linkTag.style.setProperty('--state', 'hidden')

      linkTag.addEventListener('click', async (event) => {
        event.preventDefault()
        event.currentTarget.insertAdjacentHTML(
          'beforeend',
          '<span>Kopiert til utklippstavlen</span>'
        )

        if (!navigator.clipboard) {
          return
        }

        const text = event.currentTarget.innerText

        try {
          await navigator.clipboard.writeText(text)
          event.target.classList.add('is-active')
          event.target.style.setProperty('--state', 'visible')
          setTimeout(() => {
            event.target.classList.remove('is-active')
            event.target.firstElementChild.remove()
            setTimeout(() => {
              event.target.style.setProperty('--state', 'hidden')
            }, 1000)
          }, 3000)
        } catch (err) {
          console.error('Kunne ikke kopiere!', err)
        }
      })
    </script>
  </body>
</html>
